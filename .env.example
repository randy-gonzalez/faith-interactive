# ==============================================================================
# Faith Interactive - Environment Configuration
# ==============================================================================
# Copy this file to .env.local for local development
# NEVER commit .env.local or any file containing real secrets
# ==============================================================================

# ------------------------------------------------------------------------------
# Database
# ------------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/fi_dev?schema=public"

# ------------------------------------------------------------------------------
# Authentication
# ------------------------------------------------------------------------------
# JWT secret for signing tokens (generate with: openssl rand -base64 32)
# MUST be at least 32 characters and cryptographically random
JWT_SECRET="CHANGE_ME_generate_with_openssl_rand_base64_32"

# Session duration in days
SESSION_DURATION_DAYS="7"

# Password reset token expiration in hours
PASSWORD_RESET_EXPIRATION_HOURS="1"

# ------------------------------------------------------------------------------
# Application
# ------------------------------------------------------------------------------
# Base URL for the application (used for generating links in emails, etc.)
# In production, this should be your domain (e.g., https://faith-interactive.com)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Public base URL for tenant sites (used in event registration emails)
NEXT_PUBLIC_BASE_URL="http://localhost:3000"

# Main domain for redirect validation (without protocol)
NEXT_PUBLIC_MAIN_DOMAIN="faith-interactive.com"

# Environment: development, staging, or production
NODE_ENV="development"

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
# Maximum requests per window (per IP)
RATE_LIMIT_MAX="100"

# Rate limit window in seconds
RATE_LIMIT_WINDOW_SECONDS="60"

# ------------------------------------------------------------------------------
# Account Security
# ------------------------------------------------------------------------------
# Maximum failed login attempts before account lockout
MAX_FAILED_ATTEMPTS="5"

# How long to lock the account (in minutes)
LOCKOUT_DURATION_MINUTES="15"

# Time window for counting failed attempts (in minutes)
ATTEMPT_WINDOW_MINUTES="15"

# Comma-separated list of additional allowed domains for redirects (optional)
# REDIRECT_ALLOWED_DOMAINS="example.com,app.example.com"

# ------------------------------------------------------------------------------
# Forms & Spam Protection
# ------------------------------------------------------------------------------
# Secret for form timestamp validation (generate with: openssl rand -base64 32)
FORM_TIMESTAMP_SECRET="CHANGE_ME_generate_with_openssl_rand_base64_32"

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL="debug"

# ------------------------------------------------------------------------------
# File Storage (S3-compatible / Cloudflare R2)
# ------------------------------------------------------------------------------
# For local development, you can use local storage or connect to R2
# For production on Cloudflare, use R2 with these settings

# S3/R2 bucket name
S3_BUCKET="fi-platform"

# Region (use "auto" for Cloudflare R2)
S3_REGION="auto"

# S3 endpoint URL
# For AWS S3: https://s3.amazonaws.com
# For Cloudflare R2: https://<ACCOUNT_ID>.r2.cloudflarestorage.com
S3_ENDPOINT=""

# Access credentials
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""

# Public URL for serving uploaded files
# For R2: https://pub-xxx.r2.dev or your custom domain
S3_PUBLIC_URL=""

# Enable Sharp image processing (creates thumbnails/variants)
# Set to "true" for local development, leave false for Cloudflare Workers
# Sharp is a native Node.js module that doesn't work in Cloudflare Workers
IMAGE_PROCESSING_ENABLED="true"

# ------------------------------------------------------------------------------
# Email (Optional - for production)
# ------------------------------------------------------------------------------
# SendGrid API key for transactional emails
# SENDGRID_API_KEY=""

# ------------------------------------------------------------------------------
# Cloudflare (Optional)
# ------------------------------------------------------------------------------
# Only needed if using Cloudflare-specific APIs directly
# CLOUDFLARE_ZONE_ID=""
# CLOUDFLARE_API_TOKEN=""
